<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jankenoboe - Due Song Review</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #1a1a2e; color: #e0e0e0; padding: 20px; }
h1 { color: #e94560; margin-bottom: 8px; font-size: 1.5em; }
.stats { background: #16213e; border-radius: 8px; padding: 16px; margin-bottom: 20px; }
.stats .total { font-size: 1.2em; margin-bottom: 8px; color: #e94560; font-weight: bold; }
.level-dist { margin-top: 8px; }
.level-badge { display: inline-block; background: #0f3460; color: #e0e0e0; padding: 2px 8px; border-radius: 12px; font-size: 0.85em; margin: 2px; }
.song-card { background: #16213e; border-radius: 8px; padding: 14px; margin-bottom: 10px; border-left: 4px solid #e94560; }
.song-card .song-name { font-size: 1.1em; font-weight: bold; color: #ffffff; }
.song-card .meta { color: #a0a0b0; font-size: 0.9em; margin-top: 4px; }
.song-card .shows { color: #53a8b6; margin-top: 4px; font-size: 0.9em; }
.song-card .media { margin-top: 6px; }
.song-card .media a { color: #e94560; text-decoration: none; margin-right: 10px; font-size: 0.85em; }
.song-card .media a:hover { text-decoration: underline; }
.no-media { color: #666; font-size: 0.85em; }
.pagination { display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 20px; flex-wrap: wrap; }
.pagination button { background: #0f3460; color: #e0e0e0; border: none; padding: 6px 14px; border-radius: 6px; cursor: pointer; font-size: 0.9em; }
.pagination button:hover { background: #e94560; }
.pagination button:disabled { opacity: 0.4; cursor: default; background: #0f3460; }
.pagination .page-info { color: #a0a0b0; font-size: 0.9em; }
.generated { text-align: center; color: #555; font-size: 0.8em; margin-top: 20px; }
</style>
</head>
<body>
<h1>ðŸŽµ Due Song Review</h1>
<div class="stats">
  <div class="total">Total due: {{TOTAL}} songs</div>
  <div class="level-dist">{{DIST_HTML}}</div>
</div>
<div class="pagination" id="pagination-top"></div>
<div id="song-list"></div>
<div class="pagination" id="pagination-bottom"></div>
<div class="generated">Generated by jankenoboe</div>
<script>
const SONGS = {{SONGS_JSON}};
const PER_PAGE = 20;
let currentPage = 1;
const totalPages = Math.max(1, Math.ceil(SONGS.length / PER_PAGE));

function render() {
  const start = (currentPage - 1) * PER_PAGE;
  const end = Math.min(start + PER_PAGE, SONGS.length);
  const list = document.getElementById('song-list');
  let html = '';
  for (let i = start; i < end; i++) {
    const s = SONGS[i];
    html += '<div class="song-card">' +
      '<div class="song-name">' + (i+1) + '. ' + s.name + '</div>' +
      '<div class="meta">Artist: ' + s.artist + ' &nbsp;|&nbsp; Lv.' + s.level + ' &nbsp;|&nbsp; Wait: ' + s.waitDays + ' days</div>' +
      '<div class="shows">Shows: ' + (s.shows || 'N/A') + '</div>' +
      '<div class="media">' + s.mediaHtml + '</div>' +
      '</div>';
  }
  list.innerHTML = html;

  var pagHtml = '';
  if (totalPages > 1) {
    pagHtml =
      '<button onclick="go(1)" ' + (currentPage===1?'disabled':'') + '>&laquo;</button>' +
      '<button onclick="go(currentPage-1)" ' + (currentPage===1?'disabled':'') + '>&lsaquo;</button>' +
      '<span class="page-info">Page ' + currentPage + ' / ' + totalPages + '</span>' +
      '<button onclick="go(currentPage+1)" ' + (currentPage===totalPages?'disabled':'') + '>&rsaquo;</button>' +
      '<button onclick="go(totalPages)" ' + (currentPage===totalPages?'disabled':'') + '>&raquo;</button>';
  }
  document.getElementById('pagination-top').innerHTML = pagHtml;
  document.getElementById('pagination-bottom').innerHTML = pagHtml;
}

function go(p) { currentPage = Math.max(1, Math.min(p, totalPages)); render(); window.scrollTo(0,0); }
render();
</script>
</body>
</html>